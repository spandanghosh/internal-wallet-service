# =============================================================================
# Internal Wallet Service - Application Configuration
# =============================================================================

# Server
server.port=${SERVER_PORT:8080}

# =============================================================================
# DataSource (PostgreSQL via HikariCP)
# =============================================================================
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}
spring.datasource.driver-class-name=org.postgresql.Driver

# HikariCP connection pool settings
# Max connections sized for typical cloud DB instances (e.g. RDS t3.small)
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.pool-name=WalletHikariPool

# =============================================================================
# Virtual Threads (Java 21 + Spring Boot 3.2+)
# Maps all Tomcat request threads to Java 21 virtual threads.
# Enables high concurrency with near-zero per-thread overhead.
# =============================================================================
spring.threads.virtual.enabled=true

# =============================================================================
# JSON Serialization
# =============================================================================
spring.jackson.property-naming-strategy=SNAKE_CASE
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.default-property-inclusion=non_null
